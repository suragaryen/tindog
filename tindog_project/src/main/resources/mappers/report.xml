<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="report">
 
 	<select id="report" resultType="java.util.Map">
 		SELECT DNAME, EMAIL
 		  FROM DOGS
 		 WHERE EMAIL = (
				 		SELECT EMAIL
				 		  FROM MEMBER
				 		 WHERE NICKNAME = #{nickname}
 		               )
 		   AND DOGORDER = 1
 	</select>
 	
 	<insert id="insert" parameterType="kr.co.tindog.report.ReportDTO">
 		INSERT INTO REPORT(REPORTER, REPORTED, REASON)
 		            VALUES(#{reporter}, #{reported}, #{reason})
 	</insert>
 	
 	<select id="report2" resultType="java.util.Map">
 		
 		SELECT EMAIL, NICKNAME
 		  FROM MEMBER
 		 WHERE NICKNAME = #{nickname}

 	</select>
 	
 	<insert id="insert2" parameterType="kr.co.tindog.report.ReportDTO">
 		INSERT INTO REPORT(REPORTER, REPORTED, REASON)
 		            VALUES(#{reporter}, #{reported}, #{reason})
 	</insert>
 </mapper>